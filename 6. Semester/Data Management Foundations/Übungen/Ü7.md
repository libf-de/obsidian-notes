## 1. SchlÃ¼sseltest
### a)
```sql
CREATE TABLE R ( A, B, C, D, E, CONSTRAINT AB PRIMARY KEY(A,B) )
```

### b)
```sql
CREATE TABLE R ( A, B AS CONCAT(D, E), C, D, E )
```

## 2. Funktionale AbhÃ¤ngigkeiten
- $\{B\}$ ist kein SchlÃ¼ssel, da $HÃ¼lle(F,B) \neq R$ ist (nicht alle erreichbar/unvollstÃ¤ndig)
- $\{ABG\}$ ist kein SchlÃ¼ssel, da nicht minimal.

SchlÃ¼ssel sind: $\{AG\}, \{BG\}, \{DG\}$.

Funktionale AbhÃ¤ngigkeiten:
![[Ãœ7 2023-05-23 15.10.51.excalidraw]]



## 3. Verlustfreiheit und AbhÃ¤ngigkeitsbewahrung
![[Ãœ7 2023-05-23 15.35.28.excalidraw]]
Verlustlose Zerlegung, gdw.
$(R1 \land R2 \rightarrow R1) \in FD^{+}$  oder $(R1 \land R2 \rightarrow R2) \in FD^{+}$

### a)
$FD = \{A \rightarrow C, C \rightarrow A, A \rightarrow B, C \rightarrow B\}$
![[Ãœ7 2023-05-23 15.38.06.excalidraw]]

### c) AbhÃ¤ngigkeitsbewahrung
Zerlegung ist nicht abhÃ¤ngigkeitsbewahrend, da Aâ†’C, Câ†’A nicht lokal Ã¼ber R1 bzw. R2 Ã¼berprÃ¼fbar sind.

### d)
![[Ãœ7 2023-05-23 15.43.40.excalidraw]]

## 4. Dritte Normalform
### 0)
#### 1. Normalform 
Alle TabelleneintrÃ¤ge mÃ¼ssen atomar sein (keine zusammengesetzten wie arrays,â€¦)

#### 2. Normalform
![[Ãœ7 2023-05-23 15.48.32.excalidraw]]

#### 3. Normalform
$$\begin{align*}
R1(A,C)\\
R2(A,B,C,D,E) & \quad 3.NF\\
R3(E,F)
\end{align*}$$

### a)
![[Ãœ7 2023-05-23 15.55.12.excalidraw]]

#### a) kanonische Ãœberdeckung
##### i) Linksreduktion
$$\begin{align*}
A \rightarrow BC\\
{\color{red}\not\not D}E \rightarrow B\\
F \rightarrow A \\
E \rightarrow BF\\
A \rightarrow DE\\
C \rightarrow A
\end{align*}$$
##### ii) Rechtsreduktion
$$\begin{align*}
A \rightarrow {\color{red}\not\not B} C\\
E \rightarrow B\\
F \rightarrow A\\
E \rightarrow BF\\
A \rightarrow DE\\
C \rightarrow A
\end{align*}$$
##### iii) Entfernen von X->ğŸ›‡
$$\begin{align*}
A \rightarrow C\\
\not\not E \not\not\rightarrow \not\not O\\
F \rightarrow A\\
E \rightarrow BF\\
A \rightarrow DE\\
C \rightarrow A
\end{align*}$$
##### iv) Zusammenfassung
$$\begin{align*}
X \rightarrow Y, X \rightarrow Z  \Rightarrow  X \rightarrow YZ
\end{align*}$$
$$
\begin{align*}
A &\rightarrow CDE\\
E &\rightarrow BF\\
F &\rightarrow A\\
C &\rightarrow A
\end{align*}
$$
#### b) Erzeugen eines Relationsschemas
$$\begin{align*}
R_{1}(A,C,D,E)\\
R_{2}(E,B,F)\\
R_{3}(A,F)\\
R_{4}(A,C)
\end{align*}$$

#### c) MÃ¼ssen wir KandidatenschlÃ¼ssel hinzufÃ¼gen?
$R_{K}(A,G)$ -> 47 / 11

#### d) Redundanzen entfernen
$$\begin{align*}
R_{1}(A,C,D,E)\\
R_{2}(E,B,F)\\
R_{3}(A,F)\\
R_{K}(A,G)
\end{align*}$$